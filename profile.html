<html>

<head>
    <title>----'s Contact Manager</title>         <!--display users name where ---- -->
</head>
<style>
    body {
        display: flex;
        justify-content: center;
        align-items: center;    
        height: 100vh;           
        font-family: Playfair Display, sans-serif;
        background-color: #27f5e4;
		background-image: url('');			
		background-size: cover;
		background-position: center;
    }

    .contact-container {
        text-align: center;
        background: white;
        padding: 30px;
        border-radius: 8px;
        box-shadow: 0 2px 8px rgba(0, 0, 0, 0.2);
    }

    input {
        display: block;
        width: 250px;
        margin: 10px auto;
        padding: 10px;
        border-radius: 4px;
        border: 1px solid #000000;
    }

    button {
        padding: 10px 20px;
        border-radius: 4px;
        border: none;
        background-color: #007bff;
        color: white;
        cursor: pointer;
    }

    button:hover {
        background-color: #0056b3;
    }

    .alertbutton{
        background-color: #ff0000;
    }

    .alertbutton:hover {
        background-color: #cc0000;
    }

    #color-container {
	    display:none;
	    margin-top: 20px;
    }

    #message {
	    color:red;
	    margin-top: 10px;
    }

	header {
		opacity: 0.6;
		
	}

    table {
        width: 10%;
        border-collapse: collapse;
    }

    th, td {
        padding: 12px 15px;
        border: 1px solid #ddd;
    }

    th {
        text-align: left;
        background-color: #f2f2f2;
    }

    .add-table-button{
        padding: 5px 10px;
        border-radius: 4px;
        border: none;
        background-color: #28a745;
        color: white;
        cursor: pointer;
        
    }

    .add-table-button:hover {
        background-color: #218838;
    }

    .edit-table-button{
        padding: 5px 10px;
        border-radius: 4px;
        border: none;
        background-color: #ff8e04;
        color: white;
        cursor: pointer;
        
    }

    .edit-table-button:hover {
        background-color: #e0a800;
    }

    .delete-table-button{
        padding: 5px 10px;
        border-radius: 4px;
        border: none;
        background-color: #dc3545;
        color: white;
        cursor: pointer;
        
    }
    .delete-table-button:hover {
        background-color: #c82333;
    }

</style>
<body>
    <div class ="contact-container">
	   <h2>Welcome ----!<br> </h2>           <!--display users name where ---- -->
       <h5>Enter a Name and Contact</h5><input type="text" id="name" placeholder="Name">
        <table>
            <tr>
                <th>Name</th>
                <th>Contact</th>
                <th>Action</th>
            </tr>
            <tr>
                <td> </td>
                <td> </td>
                <td><button class="add-table-button" onclick="addContact()">Add</button>
                <button class="edit-table-button" onclick="editContact()">Edit</button>
                <button class="delete-table-button" onclick="deleteContact()">Delete</button> </td>
            </tr>
        </table>
		<button class="alertbutton" onclick="signout()">Sign Out</button>


    </div>

    <script>
	let userId = "";
function addContact() {
    const loginValue = document.getElementById("login").value;
    const passwordValue = document.getElementById("password").value;

    // Clear previous message
    document.getElementById("message").textContent = "";

    fetch("LAMPAPI/Login.php", {
        method: "POST",
        headers: {
            "Content-Type": "application/json"
        },
        body: JSON.stringify({ login: loginValue, password: passwordValue })
    })
    .then(response => response.json())
    .then(data => {
        if (data.error === "") {
            // Login successful
		userId = data.userId;
           document.getElementById("message").textContent = "Added contact";
			// Redirect to contact.html after a short delay
			setTimeout(() => {
				window.location.href = "contacts.html";
			}, 2000);
	} else {
            // Login failed
            document.getElementById("message").textContent = "Contact already exists. " + data.error;
        }
    })
    .catch(err => {
        console.error("Error:", err);
        document.getElementById("message").textContent = "Server error. Please try again.";
    });
}

function editContact() {
    // Implement edit contact functionality
}

function deleteContact() {
    // Implement delete contact functionality
}

function signout() {
	window.location.href = "index.html";
}

</script>
</body>
</html>
